local refhs = menu.find("aimbot", "general", "exploits", "hideshots", "enable")
local refap = menu.find("aimbot", "general", "misc", "autopeek", "enable")
local shotfired = false
local shotstable = {}
local gayshotenable = menu.add_checkbox("HideShotTP", "hidecock")
print("made by cwatrox and stx")



table.insert(shotstable , false)

local function on_aimbot_shoot(shot)
  if refap[2]:get() then
  shotfired = true
  end
end

callbacks.add(e_callbacks.AIMBOT_SHOOT, on_aimbot_shoot)

local function on_setup_command(cmd)
if gayshotenable:get() then
      local player_resource = entity_list.get_local_player()
      local velocity = player_resource:get_prop("m_vecVelocity"):length()
         if refhs[2]:get() then  -- gets if hs is activated
            if refap[2]:get() then  -- gets if autopeek is active
                  if shotfired then
                     if velocity > 35 then --gets if the autpeek is retreating
                         print("hidecock by cwatrox")
                         exploits.force_uncharge()
                         exploits.force_recharge()
                         shotfired = false
                         table.insert(shotstable , false)
                     end
                 end 
          end
        end
end
end



callbacks.add(e_callbacks.SETUP_COMMAND, on_setup_command)